# Customer Detail Module - XPath Mapping & Validations

## Complete XPath Reference

This document maps all XPath locators used in the Customer Detail automation along with their validation rules and expected behaviors.

---

## Navigation Section

### Borrowers Menu
- **XPath**: `/html/body/div[3]/div/div/div/ul/li[2]/a`
- **Action**: Click
- **Wait**: 2 seconds after login, 1 second after click

### Customer Submenu
- **XPath**: `/html/body/div[3]/div/div/div/ul/li[2]/ul/li[3]/a`
- **Action**: Click
- **Wait**: 1 second after click

### Load Customers Button
- **XPath**: `//*[@id="LoadCustomers"]`
- **Action**: Click
- **Wait**: 2 seconds for customer list to load

### Action Button (First Customer)
- **XPath**: `//*[@id="customerListingContainer"]/div[1]/table/tbody/tr[1]/td[7]/div/a/i`
- **Action**: Click
- **Wait**: 1 second for dropdown

### Details Button
- **XPath**: `//*[@id="customerListingContainer"]/div[1]/table/tbody/tr[1]/td[7]/div/ul/li[2]/a`
- **Action**: Click
- **Wait**: 2 seconds for details page load

---

## 1. Basic Details Section

### Edit Button
- **XPath**: `//*[@id='flush-collapseOne']/div/div/div[1]/div[2]/a`
- **Action**: Click

### Customer Number
- **XPath**: `//*[@id='CustomerNo']`
- **Action**: Enter text
- **Validation**: Random numeric string (10 digits)
- **Generated By**: `RandomDataGenerator.generateRandomNumericString(10)`

### Customer Name
- **XPath**: `//*[@id='Name']`
- **Action**: Enter text
- **Validation**: Random name
- **Generated By**: `RandomDataGenerator.generateRandomName()`

### Father Name
- **XPath**: `//*[@id='FatherName']`
- **Action**: Enter text
- **Validation**: Random name
- **Generated By**: `RandomDataGenerator.generateRandomName()`

### Customer Type Dropdown
- **XPath**: `//*[@id='customerTypeDropdown']`
- **Action**: Select random option
- **Available Options**:
  - companies
  - Individual
  - partnership firm
  - Socially classified customers
  - Trusts
- **HTML**: `<select class="form-select" id="customerTypeDropdown" name="CustomerTypeId">`

### Industry Dropdown
- **XPath**: `//*[@id='customerCreateIndustry']`
- **Action**: Select random option
- **Available Options**:
  - Banking
  - NA
  - NAA
- **HTML**: `<select class="form-select" id="customerCreateIndustry" name="IndustryId">`

### Segment Dropdown
- **XPath**: `//*[@id='customerCreateSegment']`
- **Action**: Select random option
- **Available Options**:
  - Finance
  - NA
  - NAA
- **HTML**: `<select class="form-select" id="customerCreateSegment" name="SegmentId">`

### Phone Number
- **XPath**: `//*[@id='PhoneNo']`
- **Action**: Enter text
- **Validation**: 6 to 14 digits, including area code
- **Format**: 10-digit number starting with 6-9
- **Generated By**: `RandomDataGenerator.generateRandomPhoneNumber()`
- **Example**: "9876543210"

### Email ID
- **XPath**: `//*[@id='EmailId']`
- **Action**: Enter text
- **Validation**: Valid email format
- **Generated By**: `RandomDataGenerator.generateRandomEmail()`
- **Example**: "john.doe@example.com"

### Adhaar Number
- **XPath**: `//*[@id='AdhaarNo']`
- **Action**: Enter text
- **Validation**: 12-digit number starting from 2-9
- **Format**: First digit: 2-9, remaining 11 digits: 0-9
- **Generated By**: `RandomDataGenerator.generateAadhaarNumber()`
- **Example**: "234567890123"

### PAN
- **XPath**: `//*[@id='PAN']`
- **Action**: Enter text
- **Validation**: Format should be AAAAA9999A
- **Format**: 5 uppercase letters + 4 digits + 1 uppercase letter
- **Generated By**: `RandomDataGenerator.generatePan()`
- **Example**: "ABCDE1234F"

### Address Type Dropdown
- **XPath**: `//*[@id='CreateCustomerAddressType']`
- **Action**: Select random option
- **Available Options**:
  - Address new
  - commercial
  - Current Address
  - Other
  - PERMANENT ADDRESS
  - Residential
- **HTML**: `<select class="form-select Address" id="CreateCustomerAddressType" name="AddressTypeId">`

### Address 1
- **XPath**: `//*[@id='EditBasicDetailss']/form/div[6]`
- **Action**: Enter text
- **Validation**: Random address
- **Generated By**: `RandomDataGenerator.generateRandomAddress()`

### Save Button
- **XPath**: `//*[@id='createbasicdetailscust']`
- **Action**: Click
- **Wait**: 2 seconds after save

---

## 2. NPA Details Section

### NPA Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[2]/div[1]/div`
- **Action**: Click to expand

### Edit Button
- **XPath**: `//*[@id='flush-collapse12']/div/div/div[1]/div[2]/a`
- **Action**: Click

### Declared NPA - Yes Radio
- **XPath**: `//*[@id='DeclaredNPACreateYes']`
- **Action**: Click

### NPA Type Dropdown
- **XPath**: `//*[@id='NPATypeId']`
- **Action**: Select random option
- **Available Options**:
  - Doubtful assets
  - Loss assets
  - NPA
- **HTML**: `<select class="form-select is-invalid" id="NPATypeId" name="NPATypeId">`

### Date Of Declaring NPA
- **XPath**: `//*[@id='CreateDateOfDeclarinfNPA']`
- **Action**: Enter date
- **Format**: DD-MMM-YYYY (e.g., "02-Feb-2026")
- **Generated By**: `LocalDate.now().format(DateTimeFormatter.ofPattern("dd-MMM-yyyy"))`

### Pendency Reason Dropdown
- **XPath**: `//*[@id='PendencyReasonId']`
- **Action**: Select random option

### Pendency Remark
- **XPath**: `//*[@id='PendencyRemark']`
- **Action**: Enter text
- **Validation**: Random alphabetic string
- **Generated By**: `RandomDataGenerator.generateRandomAlphabeticString(20)`

### Save Button
- **XPath**: `//*[@id='EditNPADetails']`
- **Action**: Click
- **Wait**: 2 seconds after save

---

## 3. Trust/Service Provider Details Section

### Trust Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[3]/div[1]/div`
- **Action**: Click to expand

### Add Button
- **XPath**: `//*[@id='flush-collapseThree']/div/div/div/div[1]/div[2]/a/i`
- **Action**: Click

### Trust ID Dropdown
- **XPath**: `//*[@id='trustnamecustcreate']`
- **Action**: Select random option

### Date of Acquisition
- **XPath**: `//*[@id='DateOfAcquisition']`
- **Action**: Enter date
- **Format**: DD-MMM-YYYY
- **Generated By**: Current date formatted

### Selling Bank
- **XPath**: `//*[@id='SellingBank']`
- **Action**: Enter text
- **Validation**: Random bank/company name
- **Generated By**: `RandomDataGenerator.generateRandomCompanyName()`

### Save Button
- **XPath**: `//*[@id='addBtntrustcustcreate']`
- **Action**: Click
- **Wait**: 2 seconds after save

---

## 4. Ownership Details Section

### Ownership Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[4]/div[1]/div`
- **Action**: Click to expand

### Secondary Dealing Officer Tab
- **XPath**: `//*[@id='CustSDO-tab']`
- **Action**: Click

### Add Button
- **XPath**: `//*[@id='CustSDO']/div/div[1]/span/a`
- **Action**: Click

### Officer Checkbox
- **XPath**: `//*[@id='edit_1']`
- **Action**: Click (check)

### Save Button
- **XPath**: `//*[@id='secondary-dealing-user']/div/form[2]/div/div[2]/div/div/input`
- **Action**: Click
- **Wait**: 2 seconds after save

---

## 5. Remarks Section

### Remark Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[5]/div[1]/div`
- **Action**: Click to expand

### Edit Button
- **XPath**: `//*[@id='flush-Remark']/div/div/div[1]/div[2]/a`
- **Action**: Click

### Remarks Field
- **XPath**: `//*[@id='Remarks']`
- **Action**: Enter text
- **Validation**: Random alphanumeric string (30 characters)
- **Generated By**: `RandomDataGenerator.generateRandomAlphanumericString(30)`

### Save Button
- **XPath**: `//*[@id='edit-remark']/form/div/div[2]/div/div/input`
- **Action**: Click
- **Wait**: 2 seconds after save

---

## 6. Recovery Summary / Expense Section

### Recovery Summary Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[6]/div[1]/div`
- **Action**: Click to expand

### Recovery Summary Tab
- **XPath**: `//*[@id='flush-collapse10']/ul/li[2]/a`
- **Action**: Click

### Customer Expenses Tab
- **XPath**: `//*[@id='flush-collapse10']/ul/li[3]/a`
- **Action**: Click

---

## 7. Comment Section

### Comment Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[7]/div[1]/div`
- **Action**: Click to expand

### Comment Field
- **XPath**: `//*[@id='name']`
- **Action**: Enter text
- **Validation**: Random comment
- **Generated By**: `RandomDataGenerator.generateRandomComment()`

### Add Button
- **XPath**: `//*[@id='commentForm']/div/button`
- **Action**: Click
- **Wait**: 2 seconds after add

---

## 8. Customer Other Details (Account) Section

### Customer Other Details Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[8]/div[1]/div`
- **Action**: Click to expand

### Add Account Button
- **XPath**: `//*[@id='lAccount']/div/div[1]/span/a`
- **Action**: Click

### Loan Account Number
- **XPath**: `//*[@id='LoanAccountNumberOnCreate']`
- **Action**: Enter text
- **Validation**: Random account number
- **Generated By**: `RandomDataGenerator.generateRandomAccountNumber()`
- **Example**: "ACC123456789012"

### Account Type Dropdown
- **XPath**: `//*[@id='AccountTypeOnCreate']`
- **Action**: Select random option
- **Available Options**:
  - SAVING ACCOUNT
  - TERM LOAN
  - CURRENT ACCOUNT
  - HOME EQUITY
  - ACCOUNT TEST
  - MSME-TL
  - HOME LOAN
  - PERSONAL LOAN
- **HTML**: `<select class="form-select" id="AccountTypeOnCreate" name="AccountTypeId">`

### Principal Amount
- **XPath**: `//*[@id='PrincipalAmountCreateId']`
- **Action**: Enter text
- **Validation**: Random amount (10,000 to 9,999,999)
- **Generated By**: `RandomDataGenerator.generateRandomAmount()`
- **Example**: "500000"

### Rate Of Interest
- **XPath**: `//*[@id='RateofInterestId']`
- **Action**: Enter text
- **Validation**: Decimal number (5.00 to 18.00)
- **Generated By**: `RandomDataGenerator.generateRandomInterestRate()`
- **Example**: "12.50"

### Outstanding Balance
- **XPath**: `//*[@id='OutStandingBalanceCreate']`
- **Action**: Enter text
- **Validation**: Random amount
- **Generated By**: `RandomDataGenerator.generateRandomAmount()`

### Loan Disbursal Date
- **XPath**: `//*[@id='LoanDisbursalDateCreateId']`
- **Action**: Enter date
- **Format**: DD-MMM-YYYY (e.g., "01-Feb-2026")
- **Generated By**: Current date formatted

### Account Status Dropdown
- **XPath**: `//*[@id='CustomerAccountCreateAccountStatus']`
- **Action**: Select random option
- **HTML**: `<select class="form-select is-invalid" id="CustomerAccountCreateAccountStatus" name="Status">`

### Next Button - Basic Information
- **XPath**: `//*[@id='BasicInformationCollapse']`
- **Action**: Click
- **Wait**: 1 second between steps

### Next Button - Bank Consortium
- **XPath**: `//*[@id='BankConsortiumCollapse']`
- **Action**: Click
- **Wait**: 1 second between steps

### Submit Button
- **XPath**: `//*[@id='btnSubmit']`
- **Action**: Click
- **Wait**: 2 seconds after submit

---

## 9. OTS / One Time Settlement Section

### OTS Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[9]/div[1]/div`
- **Action**: Click to expand

### Add OTS Button
- **XPath**: `//*[@id='otsTableContainer']/div/div[1]/div[2]/span/a`
- **Action**: Click

### Settlement Status Dropdown
- **XPath**: `//*[@id='ddlSettlementStatus']`
- **Action**: Select random option
- **Available Options**:
  - Setteled
  - Broken
- **HTML**: `<select id="ddlSettlementStatus" name="SettlementStatusId" class="form-select">`

### Settlement Amount
- **XPath**: `//*[@id='SettlementAmount']`
- **Action**: Enter text
- **Validation**: Random amount
- **Generated By**: `RandomDataGenerator.generateRandomAmount()`

### Save Button
- **XPath**: `//*[@id='edit-notice']/form/div/div[6]/div/div/input`
- **Action**: Click
- **Wait**: 2 seconds after save

---

## 10. Information Request Section

### Information Request Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[10]/div[1]/div`
- **Action**: Click to expand

### Add Button
- **XPath**: `//*[@id='flush-collapseNine']/div/div/div[1]/div[2]/div/a`
- **Action**: Click

### To User Input (Select2)
- **XPath**: `//*[@id='create-informationrequest']/div/div[2]/div[3]/div/span[1]/span[1]/span/ul/li/input`
- **Action**: Click, enter text, press ENTER
- **HTML**: `<input class="select2-search__field" type="search">`
- **Validation**: User selection from dropdown

### Content Field (Rich Text Editor)
- **XPath**: `//*[@id='create-informationrequest']/div/div[2]/div[6]/div/div/div[3]/div[2]`
- **Action**: Enter text
- **Validation**: Random alphabetic string (50 characters)
- **Generated By**: `RandomDataGenerator.generateRandomAlphabeticString(50)`

### Save Button
- **XPath**: `//*[@id='create-informationrequest']/div/div[3]/input[2]`
- **Action**: Click
- **Wait**: 2 seconds after save

---

## 11. Address Details Section

### Address Details Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[11]/div[1]/div`
- **Action**: Click to expand

### Add Address Button
- **XPath**: `//*[@id='address-details-container']/div/div/div/div[1]/div[2]/a/i`
- **Action**: Click

### Address Type Dropdown
- **XPath**: `//*[@id='CreateCustomerAddressType']`
- **Action**: Select random option
- **Available Options**:
  - Address new
  - commercial
  - Current Address
  - Other
  - PERMANENT ADDRESS
  - Residential
- **HTML**: `<select class="form-select Address" id="CreateCustomerAddressType" name="AddressTypeId">`

### Address 1
- **XPath**: `//*[@id='AddressCust']`
- **Action**: Enter text
- **Validation**: Random address
- **Generated By**: `RandomDataGenerator.generateRandomAddress()`

### State Dropdown
- **XPath**: `//*[@id='StateIds']`
- **Action**: Select random option
- **Available Options**:
  - CHHATTISGARH
  - DELHI
  - GOA
  - GUJARAT
  - MAHARASHTRA
  - TAMIL NADU
  - KARNATAKA
  - KERALA
  - MADHYA PRADESH
  - RAJASTHAN
  - BIHAR
  - NA
- **HTML**: `<select class="form-select" id="StateIds" name="StateId" onchange="GetLocation();">`

### Location Dropdown (Dependent on State)
- **XPath**: `//*[@id='LocationIds']`
- **Action**: Select random option
- **Available Options** (for Madhya Pradesh):
  - AGAR MALWA
  - HOSHANGABAD
  - SHUJALPUR
  - NEEMUCH
  - RAIPUR
  - VIDISHA
- **HTML**: `<select class="form-select" id="LocationIds" name="LocationId">`
- **Note**: Options populate dynamically based on selected state

### Save Button
- **XPath**: `//*[@id='savebuttonid']`
- **Action**: Click
- **Wait**: 2 seconds after save

---

## 12. Audit Trail Section

### Audit Trail Section Header
- **XPath**: `//*[@id="accordionFlushExample"]/div[12]/div[1]/div`
- **Action**: Click to expand
- **Purpose**: View historical changes

---

## Validation Rules Summary

| Field | Validation Rule | Example |
|-------|----------------|---------|
| Customer Number | 10-digit numeric | "1234567890" |
| Customer Name | Any valid name | "John Doe" |
| Father Name | Any valid name | "Robert Doe" |
| Phone Number | 6-14 digits | "9876543210" |
| Email | Valid email format | "test@example.com" |
| Adhaar Number | 12 digits, starts 2-9 | "234567890123" |
| PAN | AAAAA9999A format | "ABCDE1234F" |
| Date Fields | DD-MMM-YYYY | "02-Feb-2026" |
| Amount Fields | Numeric | "500000" |
| Interest Rate | Decimal (2 places) | "12.50" |
| Account Number | Alphanumeric | "ACC123456789012" |

---

## Wait Strategy

| Operation | Wait Time | Reason |
|-----------|-----------|--------|
| After Login | 2 seconds | Menu stabilization |
| After Menu Click | 1 second | Submenu appearance |
| After Load Customers | 2 seconds | Data loading |
| After Save | 2 seconds | Server processing |
| Between Form Steps | 1 second | Form transition |
| After Dropdown | 500-1000ms | Option population |
| After State Selection | 1 second | Location dropdown load |

---

## Error Handling

All methods include:
- **Element visibility wait** before interaction
- **Clickability wait** for buttons
- **Console logging** for debugging
- **Exception catching** with meaningful messages
- **Hard waits** for dynamic content

---

## Maintenance Notes

### When XPaths Break:
1. Inspect element in browser DevTools
2. Copy new XPath
3. Update locator in `CustomerDetailPage.java`
4. No changes needed in step definitions or feature file

### When New Fields Added:
1. Add locator as `private final By` in CustomerDetailPage
2. Create interaction method
3. Add step definition method
4. Update feature file scenario
5Update this documentation---**Document Version**: 1.0  
**Last Updated**: February 2026  
**Total XPaths**: 75+  
**Sections Covered**: 13
